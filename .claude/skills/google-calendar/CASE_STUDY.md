# Google Calendar Skill ìƒì„± ì¼€ì´ìŠ¤ ìŠ¤í„°ë””

> **í”„ë¡œì íŠ¸**: Claude Code Skills ì‹œìŠ¤í…œì„ í™œìš©í•œ Google Calendar í†µí•©
> **ë‚ ì§œ**: 2025ë…„ 10ì›” 22ì¼
> **ì†Œìš” ì‹œê°„**: ì•½ 2ì‹œê°„
> **ë‚œì´ë„**: ì¤‘ê¸‰ (OAuth ì¸ì¦, íŒŒì‹± ë¡œì§, í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜)

---

**ğŸ“š ì´ ë¬¸ì„œëŠ” PKMì—ë„ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤:**
- **ìœ„ì¹˜**: `/Users/rhim/Projects/pkm/30-knowledge/36-ai-tools/36.01-claude-code/skills-case-studies/google-calendar-skill.md`
- **í´ë”**: `skills-case-studies/` (Claude Code Skills ì¼€ì´ìŠ¤ ìŠ¤í„°ë”” ëª¨ìŒ)

---

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ì˜ì‚¬ê²°ì •](#ê¸°ìˆ -ì˜ì‚¬ê²°ì •)
3. [êµ¬í˜„ ê³¼ì •](#êµ¬í˜„-ê³¼ì •)
4. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)
5. [ìµœì¢… ê²°ê³¼](#ìµœì¢…-ê²°ê³¼)
6. [êµí›ˆ](#êµí›ˆ)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ëª©í‘œ

Claude Codeì˜ Skills ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ì—¬ Google Calendarì™€ í†µí•©í•˜ê³ , Daily Noteì™€ Weekly Reviewì— ìë™ìœ¼ë¡œ ì¼ì •ì„ ì‚½ì…í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤.

### ìš”êµ¬ì‚¬í•­

**í•µì‹¬ ê¸°ëŠ¥:**
- âœ… ì˜¤ëŠ˜ ì¼ì • ì¡°íšŒ (Markdown í˜•ì‹)
- âœ… ì´ë²ˆ ì£¼ ì¼ì • ì¡°íšŒ (ë‚ ì§œë³„ ê·¸ë£¹í™”)
- âœ… í‚¤ì›Œë“œë¡œ ì¼ì • ê²€ìƒ‰
- âœ… ìì—°ì–´ë¡œ ì¼ì • ë“±ë¡

**ì œì•½ì‚¬í•­:**
- íŠ¹ì • ìº˜ë¦°ë”ë§Œ ì¡°íšŒ (Work, ê°œì¸+ê°€ì¡±ìš©, Money)
- ì§ì› ìº˜ë¦°ë”(ì´ë¯¸ì»¤í”¼) ì œì™¸
- ì¢…ì¼ ì¼ì • ì§€ì› í•„ìˆ˜
- Daily Note í…œí”Œë¦¿ ìë™ í†µí•©

### ì´ˆê¸° ìƒí™©

**ê¸°ì¡´ ë¦¬ì†ŒìŠ¤:**
- âœ… PKM ì‹œìŠ¤í…œ (Johnny Decimal êµ¬ì¡°)
- âœ… Daily Note í…œí”Œë¦¿ (`{{calendar_events}}` placeholder)
- âœ… `/daily-note` slash command
- âœ… Google OAuth credentials (credentials.json)

**ë¯¸ì™„ì„± ë¶€ë¶„:**
- âŒ Google Calendar API ì¸ì¦
- âŒ ì‹¤í–‰ ê°€ëŠ¥í•œ ìŠ¤í¬ë¦½íŠ¸
- âŒ Skills í†µí•©

---

## ê¸°ìˆ  ì˜ì‚¬ê²°ì •

### 1. gcalcli vs ì§ì ‘ Python API

**ì„ íƒì§€:**

| í•­ëª© | gcalcli (ì±„íƒ) | Python API (ê¸°ì¡´) |
|-----|---------------|------------------|
| **ê¸°ëŠ¥** | ì¡°íšŒ/ê²€ìƒ‰/ìˆ˜ì •/ì‚­ì œ/ë·° | ì¡°íšŒ/ë“±ë¡ë§Œ |
| **ì„¤ì¹˜** | `pipx install gcalcli` | ë³µì¡í•œ pip ì„¤ì • |
| **ì¸ì¦** | `gcalcli init` | credentials.json + ì½”ë“œ |
| **ë‚ ì§œ ë²”ìœ„** | ììœ ë¡­ê²Œ ì§€ì • ê°€ëŠ¥ | ì˜¤ëŠ˜ë§Œ ê°€ëŠ¥ |
| **ìº˜ë¦°ë” ë·°** | calw/calm (ASCII) | ì—†ìŒ |
| **Markdown ì¶œë ¥** | ë˜í¼ë¡œ ë³€í™˜ | ê¸°ë³¸ ì§€ì› |

**ìµœì¢… ê²°ì •: gcalcli + Python ë˜í¼ (í•˜ì´ë¸Œë¦¬ë“œ)**

**ì´ìœ :**
1. **ê¸°ëŠ¥ í’ë¶€**: gcalcliëŠ” ì„±ìˆ™í•œ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê²€ìƒ‰/ìˆ˜ì •/ì‚­ì œ ë“± ê³ ê¸‰ ê¸°ëŠ¥ ì œê³µ
2. **ìœ ì§€ë³´ìˆ˜**: ì»¤ë®¤ë‹ˆí‹°ê°€ ê´€ë¦¬í•˜ë¯€ë¡œ ë²„ê·¸ ìˆ˜ì • ë° ì—…ë°ì´íŠ¸ ë³´ì¥
3. **í™•ì¥ì„±**: í•„ìš”í•œ ê¸°ëŠ¥ë§Œ Python ë˜í¼ë¡œ ê°ì‹¸ì„œ Markdown ì¶œë ¥ ìµœì í™”
4. **ì•ˆì •ì„±**: gcalcliê°€ Google API ë³€ê²½ì‚¬í•­ì„ ìë™ ë°˜ì˜

### 2. ì•„í‚¤í…ì²˜ ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Claude Code (Skills ì‹œìŠ¤í…œ)        â”‚
â”‚   "ì˜¤ëŠ˜ ì¼ì • ë­ ìˆì–´?"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   google-calendar Skill              â”‚
â”‚   (SKILL.md - ì‹¤í–‰ ê°€ì´ë“œ)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Python ë˜í¼ ìŠ¤í¬ë¦½íŠ¸                â”‚
â”‚   - get_events.py                   â”‚
â”‚   - get_week_events.py              â”‚
â”‚   - search_events.py                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   gcalcli (CLI ë„êµ¬)                 â”‚
â”‚   Google Calendar API í˜¸ì¶œ           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ê³„ì¸µë³„ ì—­í• :**

1. **Skills ê³„ì¸µ**: Claudeê°€ ì‚¬ìš©ì ì˜ë„ íŒŒì•… ë° ì ì ˆí•œ ìŠ¤í¬ë¦½íŠ¸ ì„ íƒ
2. **ë˜í¼ ê³„ì¸µ**: gcalcli ì¶œë ¥ì„ Markdownìœ¼ë¡œ ë³€í™˜, ìº˜ë¦°ë” í•„í„°ë§
3. **gcalcli ê³„ì¸µ**: Google Calendar API í†µì‹ , OAuth ì¸ì¦ ê´€ë¦¬

---

## êµ¬í˜„ ê³¼ì •

### Phase 1: gcalcli ì„¤ì¹˜ ë° ì¸ì¦ (30ë¶„)

#### 1.1 gcalcli ì„¤ì¹˜

**ë¬¸ì œ:** Mac í™˜ê²½ì—ì„œ `pip3 install`ì´ externally-managed-environment ì˜¤ë¥˜ ë°œìƒ

**í•´ê²°:**
```bash
# pipx ì‚¬ìš© (ê°€ìƒí™˜ê²½ ìë™ ê´€ë¦¬)
brew install pipx
pipx install gcalcli
pipx ensurepath
export PATH="$HOME/.local/bin:$PATH"
```

**ê²€ì¦:**
```bash
gcalcli --version
# ì¶œë ¥: gcalcli 4.5.1
```

#### 1.2 OAuth ì¸ì¦ ì„¤ì •

**ì¤€ë¹„ë¬¼:**
- Google Cloud Consoleì—ì„œ ë°œê¸‰ë°›ì€ `credentials.json`
- Client ID: `572893529069-...apps.googleusercontent.com`
- Client Secret: `GOCSPX-...`

**ì¸ì¦ ê³¼ì •:**
```bash
gcalcli init
```

**ë°œìƒí•œ ë¬¸ì œ:**
1. **ì˜ëª»ëœ ì…ë ¥**: ì‚¬ìš©ìê°€ Client IDì— ì´ë©”ì¼ ì£¼ì†Œ ì…ë ¥
   - âŒ ì…ë ¥: `hovooimi@gmail.com`
   - âœ… ì •ë‹µ: `572893529069-...apps.googleusercontent.com`

2. **Google OAuth í…ŒìŠ¤íŠ¸ ëª¨ë“œ ì œí•œ**:
   - ì˜¤ë¥˜: `403 error: access_denied`
   - ì›ì¸: OAuth ì•±ì´ í…ŒìŠ¤íŠ¸ ëª¨ë“œì´ê³  í…ŒìŠ¤í„° ë¯¸ë“±ë¡

**í•´ê²°:**
- Google Cloud Console â†’ OAuth ë™ì˜ í™”ë©´ â†’ í…ŒìŠ¤íŠ¸ ì‚¬ìš©ìì— `hovooimi@gmail.com` ì¶”ê°€

**ì„±ê³µ í™•ì¸:**
```bash
gcalcli list
# ì¶œë ¥:
# Access  Title
# ------  -----
# owner   ì´ë¯¸ì»¤í”¼
# owner   Money
# owner   Work
# owner   ê°œì¸ + ê°€ì¡±ìš©
# reader  ëŒ€í•œë¯¼êµ­ì˜ íœ´ì¼
```

### Phase 2: Python ë˜í¼ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± (45ë¶„)

#### 2.1 get_events.py (ì˜¤ëŠ˜ ì¼ì •)

**ì´ˆê¸° êµ¬í˜„:**
```python
def get_today_events():
    """ì˜¤ëŠ˜ ì¼ì • ê°€ì ¸ì˜¤ê¸°"""
    output = run_gcalcli(['agenda', '--nocolor', '--nodeclined'])
    markdown = parse_gcalcli_output_to_markdown(output)
    return markdown
```

**ë¬¸ì œ 1: ëª¨ë“  ìº˜ë¦°ë” ì¼ì • í‘œì‹œ**
- ì§ì› ìº˜ë¦°ë”(ì´ë¯¸ì»¤í”¼)ê¹Œì§€ í¬í•¨ë˜ì–´ ë¶ˆí•„ìš”í•œ ì¼ì • í‘œì‹œ

**í•´ê²°:**
```python
# ì¡°íšŒí•  ìº˜ë¦°ë” ì§€ì •
calendars = ['Work', 'ê°œì¸ + ê°€ì¡±ìš©', 'Money']

cmd = ['agenda', today, today, '--nocolor', '--nodeclined']
for cal in calendars:
    cmd.extend(['--calendar', cal])

output = run_gcalcli(cmd)
```

**ë¬¸ì œ 2: ì¢…ì¼ ì¼ì • ë¯¸í‘œì‹œ**
- gcalcliê°€ ë‚ ì§œ ë²”ìœ„ ì¡°íšŒ ì‹œ ì¢…ì¼ ì¼ì •ì„ ì œëŒ€ë¡œ ë°˜í™˜í•˜ì§€ ì•ŠìŒ

**í•´ê²°:**
```python
# ì¢…ì¼ ì¼ì • í¬í•¨ì„ ìœ„í•´ ë‹¤ìŒë‚ ê¹Œì§€ ì¡°íšŒ í›„ í•„í„°ë§
tomorrow = (today_date + timedelta(days=1)).strftime('%Y-%m-%d')
cmd = ['agenda', today, tomorrow, '--nocolor', '--nodeclined']

# ì˜¤ëŠ˜ ë‚ ì§œë§Œ í•„í„°ë§
filtered_output = filter_today_only(output, today)
```

**ë¬¸ì œ 3: ANSI ìƒ‰ìƒ ì½”ë“œ**
- gcalcli ì¶œë ¥ì— `\x1b[0;33m`, `[0m` ê°™ì€ ANSI ì½”ë“œ í¬í•¨
- Markdown íŒŒì‹± ì‹¤íŒ¨

**í•´ê²°:**
```python
# ANSI ìƒ‰ìƒ ì½”ë“œ ì œê±° (ëª¨ë“  í˜•íƒœ)
output_clean = re.sub(r'\x1b\[[0-9;]*m|\[[0-9;]*m', '', output)
```

**ë¬¸ì œ 4: ë‚ ì§œ í—¤ë”ì™€ ì¼ì •ì´ í•œ ì¤„ì—**
- ì˜ˆ: `"Thu Oct 23         í•˜ë‚˜ 94,000"`
- ë‚ ì§œ ë¶€ë¶„ì„ ì œê±°í•˜ê³  ì¼ì •ë§Œ ì¶”ì¶œ í•„ìš”

**í•´ê²°:**
```python
if today_formatted in line:
    include_line = True
    # ë‚ ì§œ í–‰ì— ì¼ì •ì´ ê°™ì´ ìˆëŠ” ê²½ìš°
    event_part = line.replace(today_formatted, '').strip()
    if event_part:
        today_lines.append('         ' + event_part)
    continue
```

**ìµœì¢… parse ë¡œì§:**
```python
def parse_gcalcli_output_to_markdown(output):
    # ANSI ì œê±°
    output_clean = re.sub(r'\x1b\[[0-9;]*m|\[[0-9;]*m', '', output)

    for line in lines:
        # ë‚ ì§œ í—¤ë” ê±´ë„ˆë›°ê¸°
        if re.match(r'^[A-Z][a-z]{2}\s+[A-Z][a-z]{2}\s+\d{1,2}', line.strip()):
            continue

        # ì‹œê°„ ìˆëŠ” ì¼ì •: "  9:00am  Team Meeting"
        time_match = re.search(r'(\d{1,2}:\d{2}[ap]m|All Day)', line, re.IGNORECASE)
        if time_match:
            # ì‹œê°„ ë³€í™˜ ë° Markdown ìƒì„±
        else:
            # ì¢…ì¼ ì¼ì •
            event_text = line.strip()
            if event_text:
                markdown_lines.append(f"- **ì¢…ì¼** {event_text}")
```

#### 2.2 get_week_events.py (ì£¼ê°„ ì¼ì •)

**í•µì‹¬ ì°¨ì´ì :**
- ë‚ ì§œë³„ ê·¸ë£¹í™” í•„ìš”
- ì—¬ëŸ¬ ë‚ ì§œì˜ ì¼ì •ì„ ì²˜ë¦¬

**êµ¬í˜„:**
```python
def parse_week_events_to_markdown(output):
    output_clean = re.sub(r'\x1b\[[0-9;]*m|\[[0-9;]*m', '', output)

    events_by_date = {}
    current_date = None

    for line in lines:
        # ë‚ ì§œ í—¤ë” ì²´í¬
        date_match = re.match(r'^([A-Z][a-z]{2} [A-Z][a-z]{2} \d{1,2})', line.strip())
        if date_match:
            current_date = date_match.group(1)
            # ... ë‚ ì§œë³„ë¡œ ì¼ì • ê·¸ë£¹í™”
```

**ì‹œê°„ íŒŒì‹± ê°œì„ :**
```python
# 24ì‹œê°„ í˜•ì‹ ì§€ì› (HH:MM)
time_match = re.match(r'^\s*(\d{1,2}:\d{2})([ap]m)?', line, re.IGNORECASE)
if time_match:
    time_str = time_match.group(1)
    ampm = time_match.group(2)

    # 12ì‹œê°„ í˜•ì‹ì´ë©´ 24ì‹œê°„ìœ¼ë¡œ ë³€í™˜
    if ampm:
        time_display = convert_to_24h(time_str + ampm)
    else:
        time_display = time_str  # ì´ë¯¸ 24ì‹œê°„ í˜•ì‹
```

#### 2.3 search_events.py (ê²€ìƒ‰)

**êµ¬í˜„:**
```python
def search_events(keyword):
    calendars = ['Work', 'ê°œì¸ + ê°€ì¡±ìš©', 'Money']

    cmd = ['search', keyword, '--nocolor', '--nodeclined']
    for cal in calendars:
        cmd.extend(['--calendar', cal])

    output = run_gcalcli(cmd)
    markdown = parse_search_results_to_markdown(output)
    return markdown
```

### Phase 3: Skill ìƒì„± (20ë¶„)

#### 3.1 SKILL.md ì‘ì„±

**í•µì‹¬ êµ¬ì„±:**
```yaml
---
name: google-calendar
description: Google Calendar ì¼ì • ì¡°íšŒ, ê²€ìƒ‰, ë“±ë¡. "ì˜¤ëŠ˜ ì¼ì •", "ì´ë²ˆ ì£¼ ì¼ì •", "ì¼ì • ê²€ìƒ‰", "ë¯¸íŒ… ì¡ì•„ì¤˜" ë“±ì„ ì–¸ê¸‰í•˜ë©´ ìë™ ì‹¤í–‰.
allowed-tools: Bash, Read
---

# Google Calendar Integration Skill

## ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### 1. ì˜¤ëŠ˜ ì¼ì • ì¡°íšŒ
Trigger: "ì˜¤ëŠ˜ ì¼ì • ë­ ìˆì–´?"
ì‹¤í–‰: cd /Users/rhim/.../calendar && python3 get_events.py

### 2. ì´ë²ˆ ì£¼ ì¼ì • ì¡°íšŒ
Trigger: "ì´ë²ˆ ì£¼ ìŠ¤ì¼€ì¤„ ì•Œë ¤ì¤˜"
ì‹¤í–‰: python3 get_week_events.py
```

**ì¤‘ìš” í¬ì¸íŠ¸:**
1. **description**: Claudeê°€ ì–¸ì œ skillì„ ì‹¤í–‰í• ì§€ íŒë‹¨í•˜ëŠ” í•µì‹¬
   - Trigger í‚¤ì›Œë“œ ëª…ì‹œ ("ì˜¤ëŠ˜ ì¼ì •", "ì´ë²ˆ ì£¼ ì¼ì •")
   - ì‚¬ìš© ì‚¬ë¡€ êµ¬ì²´ì ìœ¼ë¡œ ë‚˜ì—´

2. **allowed-tools**: Bash, Readë§Œ í—ˆìš© (ë³´ì•ˆ)

3. **ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ**: ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš©

#### 3.2 ë¬¸ì„œ ì—…ë°ì´íŠ¸

**ì—…ë°ì´íŠ¸í•œ íŒŒì¼:**
1. `~/.claude/skills/README.md` - google-calendar skill ì¶”ê°€
2. `/calendar/README.md` - gcalcli ê¸°ë°˜ ì‚¬ìš©ë²•
3. `SETUP_GUIDE.md` - ì„¤ì • ì•ˆë‚´ì„œ
4. `CASE_STUDY.md` - ì´ ë¬¸ì„œ

---

## ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: OAuth ì¸ì¦ ì‹¤íŒ¨

**ì¦ìƒ:**
```
ì•¡ì„¸ìŠ¤ ì°¨ë‹¨ë¨: claude-code-ggì€(ëŠ”) Google ì¸ì¦ ì ˆì°¨ë¥¼ ì™„ë£Œí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤
403 ì˜¤ë¥˜: access_denied
```

**ì›ì¸:** OAuth ì•±ì´ í…ŒìŠ¤íŠ¸ ëª¨ë“œì´ê³  ì‚¬ìš©ìê°€ í…ŒìŠ¤í„° ëª©ë¡ì— ì—†ìŒ

**í•´ê²° ë‹¨ê³„:**
1. Google Cloud Console â†’ APIs ë° ì„œë¹„ìŠ¤ â†’ OAuth ë™ì˜ í™”ë©´
2. "í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì" ì„¹ì…˜ â†’ "+ ì‚¬ìš©ì ì¶”ê°€"
3. `hovooimi@gmail.com` ì¶”ê°€
4. ì €ì¥ í›„ `gcalcli init` ì¬ì‹¤í–‰

### ë¬¸ì œ 2: ì¢…ì¼ ì¼ì • ë¯¸í‘œì‹œ

**ì¦ìƒ:**
- gcalclië¡œ ì§ì ‘ ì¡°íšŒí•˜ë©´ ë‚˜ì˜¤ëŠ”ë°, ë‚ ì§œ ë²”ìœ„ë¡œ ì¡°íšŒí•˜ë©´ ì¢…ì¼ ì¼ì •ì´ ë¹ ì§

**ì›ì¸:** gcalcliì˜ ë‚ ì§œ ë²”ìœ„ ì²˜ë¦¬ ë²„ê·¸

**í•´ê²°:**
```python
# Before: ì˜¤ëŠ˜ë§Œ ì¡°íšŒ (ì¢…ì¼ ì¼ì • ëˆ„ë½)
output = run_gcalcli(['agenda', '2025-10-22', '2025-10-22'])

# After: ë‚´ì¼ê¹Œì§€ ì¡°íšŒ í›„ í•„í„°ë§
output = run_gcalcli(['agenda', '2025-10-22', '2025-10-23'])
filtered = filter_today_only(output, '2025-10-22')
```

### ë¬¸ì œ 3: ANSI ìƒ‰ìƒ ì½”ë“œ íŒŒì‹± ì˜¤ë¥˜

**ì¦ìƒ:**
```python
# Raw output:
"[0;33m\nThu Oct 23[0m[0m         í•˜ë‚˜ 94,000\n[0m"
```

**ì›ì¸:** `--nocolor` ì˜µì…˜ì„ ì‚¬ìš©í•´ë„ ì¼ë¶€ ANSI ì½”ë“œê°€ ë‚¨ìŒ

**í•´ê²°:**
```python
# ë‘ ê°€ì§€ ANSI íŒ¨í„´ ëª¨ë‘ ì œê±°
output_clean = re.sub(r'\x1b\[[0-9;]*m|\[[0-9;]*m', '', output)

# ê²°ê³¼:
# "\nThu Oct 23         í•˜ë‚˜ 94,000\n"
```

### ë¬¸ì œ 4: ì‹œê°„ íŒŒì‹± ì‹¤íŒ¨

**ì¦ìƒ:**
```
- **ì¢…ì¼** 16:00          ë¡ë‹´ ë¯¸íŒ…  # ì‹œê°„ì´ ìˆëŠ”ë° ì¢…ì¼ë¡œ í‘œì‹œ
```

**ì›ì¸:** ê¸°ì¡´ ì •ê·œì‹ì´ 12ì‹œê°„ í˜•ì‹(`9:00am`)ë§Œ ì°¾ê³  24ì‹œê°„ í˜•ì‹(`16:00`) ëª» ì°¾ìŒ

**í•´ê²°:**
```python
# Before: 12ì‹œê°„ í˜•ì‹ë§Œ
time_match = re.search(r'(\d{1,2}:\d{2}[ap]m)', line, re.IGNORECASE)

# After: 24ì‹œê°„/12ì‹œê°„ ëª¨ë‘ ì§€ì›
time_match = re.match(r'^\s*(\d{1,2}:\d{2})([ap]m)?', line, re.IGNORECASE)
if time_match:
    time_str = time_match.group(1)
    ampm = time_match.group(2)
    if ampm:
        time_display = convert_to_24h(time_str + ampm)
    else:
        time_display = time_str  # ì´ë¯¸ 24ì‹œê°„ í˜•ì‹
```

### ë¬¸ì œ 5: ë‚ ì§œ í—¤ë”ì™€ ì¼ì • ë¶„ë¦¬

**ì¦ìƒ:**
```
"Thu Oct 23         í•˜ë‚˜ 94,000"  # í•œ ì¤„ì— ë‚ ì§œì™€ ì¼ì •
```

**ì›ì¸:** gcalcliê°€ ì²« ì¼ì •ì„ ë‚ ì§œ í—¤ë”ì™€ ê°™ì€ ì¤„ì— ì¶œë ¥

**í•´ê²°:**
```python
if today_formatted in line:
    include_line = True
    # ë‚ ì§œ ë¶€ë¶„ ì œê±°í•˜ê³  ì¼ì •ë§Œ ì¶”ì¶œ
    event_part = line.replace(today_formatted, '').strip()
    if event_part:
        today_lines.append('         ' + event_part)  # ê³µë°± ì¶”ê°€
    continue
```

---

## ìµœì¢… ê²°ê³¼

### ì™„ì„±ëœ íŒŒì¼ êµ¬ì¡°

```
~/.claude/skills/google-calendar/
â”œâ”€â”€ SKILL.md                    # Skill ì •ì˜ (6KB)
â”œâ”€â”€ SETUP_GUIDE.md              # ì„¤ì • ì•ˆë‚´ (4KB)
â””â”€â”€ CASE_STUDY.md               # ì´ ë¬¸ì„œ

/Users/rhim/Projects/pkm/00-system/02-scripts/calendar/
â”œâ”€â”€ README.md                   # ì‚¬ìš© ê°€ì´ë“œ (gcalcli ê¸°ë°˜)
â”œâ”€â”€ get_events.py               # ì˜¤ëŠ˜ ì¼ì • (180ì¤„)
â”œâ”€â”€ get_week_events.py          # ì£¼ê°„ ì¼ì • (150ì¤„)
â”œâ”€â”€ search_events.py            # ê²€ìƒ‰ (110ì¤„)
â”œâ”€â”€ add_event.py                # ì¼ì • ë“±ë¡ (ê¸°ì¡´ ìœ ì§€)
â”œâ”€â”€ get_events_original.py.backup  # ì›ë³¸ ë°±ì—…
â””â”€â”€ credentials.json            # OAuth ì¸ì¦ ì •ë³´
```

### ê¸°ëŠ¥ ê²€ì¦

**1. ì˜¤ëŠ˜ ì¼ì • ì¡°íšŒ:**
```bash
$ python3 get_events.py
ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.  # 2025-10-22
```

**2. ì´ë²ˆ ì£¼ ì¼ì • ì¡°íšŒ:**
```bash
$ python3 get_week_events.py

## ì´ë²ˆ ì£¼ ì¼ì •

### Mon Oct 20
- **16:00** ë¡ë‹´ ë¯¸íŒ…

### Tue Oct 21
- **ì¢…ì¼** ì„ ì´ ìƒì¼
- **10:00** ì†Œê²½ê³„
- **14:00** ë†í˜‘

### Fri Oct 24
- **19:30** ì¸ì‚¬ì´í„° AI ê°•ì˜

### Sat Oct 25
- **10:00** AI ë¯¸íŒ…
- **14:00** ì¤‘í›ˆ ë¯¸íŒ…
```

**3. Claudeì™€ ëŒ€í™”:**
```
ì‚¬ìš©ì: "ì˜¤ëŠ˜ ì¼ì • ë­ ìˆì–´?"
Claude: (google-calendar skill ìë™ ì‹¤í–‰)
        ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.

ì‚¬ìš©ì: "ì´ë²ˆ ì£¼ ìŠ¤ì¼€ì¤„ ì•Œë ¤ì¤˜"
Claude: (google-calendar skill ìë™ ì‹¤í–‰)
        ## ì´ë²ˆ ì£¼ ì¼ì •
        ### Mon Oct 20
        - **16:00** ë¡ë‹´ ë¯¸íŒ…
        ...
```

### ì„±ëŠ¥ ì§€í‘œ

| í•­ëª© | ê²°ê³¼ |
|-----|------|
| **ì´ ì†Œìš” ì‹œê°„** | 2ì‹œê°„ |
| **ì½”ë“œ ë¼ì¸** | ~440ì¤„ (3ê°œ ìŠ¤í¬ë¦½íŠ¸) |
| **íŒŒì¼ ê°œìˆ˜** | 10ê°œ (ìŠ¤í¬ë¦½íŠ¸ + ë¬¸ì„œ) |
| **ìº˜ë¦°ë” í•„í„°ë§** | 3ê°œ (Work, ê°œì¸+ê°€ì¡±ìš©, Money) |
| **ì§€ì› í˜•ì‹** | ì‹œê°„ ì¼ì •, ì¢…ì¼ ì¼ì • |
| **ì¶œë ¥ í˜•ì‹** | Markdown (PKM ìµœì í™”) |

---

## êµí›ˆ

### 1. ê¸°ìˆ  ì„ íƒì˜ ì¤‘ìš”ì„±

**gcalclië¥¼ ì„ íƒí•œ ê²ƒì´ í•µì‹¬ ì„±ê³µ ìš”ì¸:**
- âœ… ê¸°ëŠ¥ í’ë¶€ (ê²€ìƒ‰/ìˆ˜ì •/ì‚­ì œ/ë·°)
- âœ… ì»¤ë®¤ë‹ˆí‹° ì§€ì› (ë²„ê·¸ ìˆ˜ì •, ì—…ë°ì´íŠ¸)
- âœ… ì„¤ì¹˜ ê°„í¸ (pipx)
- âœ… OAuth ì¸ì¦ ìë™í™”

ë§Œì•½ Python APIë¥¼ ì§ì ‘ ì‚¬ìš©í–ˆë‹¤ë©´:
- âŒ ëª¨ë“  ê¸°ëŠ¥ì„ ì§ì ‘ êµ¬í˜„ (2ë°° ì´ìƒ ì‹œê°„ ì†Œìš”)
- âŒ OAuth í† í° ê´€ë¦¬ ì§ì ‘
- âŒ API ë³€ê²½ì‚¬í•­ ì§ì ‘ ëŒ€ì‘

**ê²°ë¡ :** ì„±ìˆ™í•œ ë„êµ¬ë¥¼ í™œìš©í•˜ê³ , í•„ìš”í•œ ë¶€ë¶„ë§Œ ë˜í¼ë¡œ ê°ì‹¸ëŠ” í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ì´ íš¨ìœ¨ì 

### 2. íŒŒì‹± ë¡œì§ì˜ ë³µì¡ì„±

**ê°„ê³¼í–ˆë˜ ë¶€ë¶„:**
- ANSI ìƒ‰ìƒ ì½”ë“œ (2ê°€ì§€ íŒ¨í„´: `\x1b[...]m`, `[...]m`)
- ë‚ ì§œ í—¤ë”ì™€ ì¼ì •ì´ í•œ ì¤„ì—
- 24ì‹œê°„ vs 12ì‹œê°„ í˜•ì‹
- ì¢…ì¼ ì¼ì •ì˜ gcalcli ë²„ê·¸

**êµí›ˆ:**
1. **ì‹¤ì œ ë°ì´í„°ë¡œ í…ŒìŠ¤íŠ¸**: ì˜ˆìƒì¹˜ ëª»í•œ ì—£ì§€ ì¼€ì´ìŠ¤ ë°œê²¬
2. **ì ì§„ì  ê°œì„ **: í•œ ë²ˆì— ì™„ë²½í•˜ê²Œ ë§Œë“¤ë ¤ í•˜ì§€ ë§ê³  ë°˜ë³µ ê°œì„ 
3. **ë””ë²„ê¹… ìŠ¤í¬ë¦½íŠ¸**: ì¤‘ê°„ ì¶œë ¥ì„ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

### 3. Skills ì‹œìŠ¤í…œì˜ ê°•ë ¥í•¨

**Claude Code Skillsì˜ ì¥ì :**
1. **Model-invoked**: ì‚¬ìš©ìê°€ ìì—°ì–´ë¡œë§Œ ìš”ì²­í•´ë„ ìë™ ì‹¤í–‰
2. **ë¬¸ì„œí™” = ì½”ë“œ**: SKILL.mdì— ëª¨ë“  ê²ƒì´ ì •ì˜ë¨
3. **ìœ ì—°ì„±**: Bash, Python, ëª¨ë“  ë„êµ¬ í™œìš© ê°€ëŠ¥

**íš¨ê³¼ì ì¸ Skill ì‘ì„±:**
- âœ… `description`ì— êµ¬ì²´ì ì¸ Trigger í‚¤ì›Œë“œ ëª…ì‹œ
- âœ… ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒì„¸í•˜ê²Œ ë‚˜ì—´
- âœ… ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œëŠ” ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš©
- âœ… ì—ëŸ¬ ë©”ì‹œì§€ì— í•´ê²° ë°©ë²• í¬í•¨

### 4. ë¬¸ì„œí™”ì˜ ê°€ì¹˜

**ì‘ì„±í•œ ë¬¸ì„œ:**
1. `SKILL.md` - Claudeê°€ ì°¸ì¡°í•  ì‹¤í–‰ ê°€ì´ë“œ
2. `SETUP_GUIDE.md` - ì‚¬ìš©ììš© ì„¤ì • ì•ˆë‚´
3. `README.md` - ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ë²•
4. `CASE_STUDY.md` - ì „ì²´ ê³¼ì • ê¸°ë¡ (ì´ ë¬¸ì„œ)

**íš¨ê³¼:**
- ë¯¸ë˜ì˜ ë‚˜ ë˜ëŠ” ë‹¤ë¥¸ ì‚¬ëŒì´ ì‰½ê²Œ ì´í•´ ê°€ëŠ¥
- ìœ ì‚¬í•œ í”„ë¡œì íŠ¸ ì§„í–‰ ì‹œ ì°¸ê³  ìë£Œ
- ë¬¸ì œ ë°œìƒ ì‹œ ë¹ ë¥¸ ë””ë²„ê¹…

### 5. ë°˜ë³µì  ë¬¸ì œ í•´ê²°

**ë¬¸ì œ í•´ê²° íŒ¨í„´:**
1. **ì¦ìƒ í™•ì¸** â†’ ì‹¤ì œ ì¶œë ¥ í™•ì¸
2. **ì›ì¸ ë¶„ì„** â†’ ë””ë²„ê¹… ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
3. **í•´ê²°ì±… êµ¬í˜„** â†’ ì½”ë“œ ìˆ˜ì •
4. **ê²€ì¦** â†’ ë‹¤ì–‘í•œ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
5. **ë¬¸ì„œí™”** â†’ í•´ê²° ê³¼ì • ê¸°ë¡

**ì˜ˆì‹œ - ANSI ì½”ë“œ ë¬¸ì œ:**
1. ì¦ìƒ: íŒŒì‹± ì‹¤íŒ¨
2. ì›ì¸: `[0m`, `\x1b[0;33m` í˜¼ì¬
3. í•´ê²°: ë‘ íŒ¨í„´ ëª¨ë‘ ì œê±°í•˜ëŠ” ì •ê·œì‹
4. ê²€ì¦: ì—¬ëŸ¬ ë‚ ì§œ ì¼ì • í…ŒìŠ¤íŠ¸
5. ë¬¸ì„œí™”: CASE_STUDYì— ê¸°ë¡

---

## ë‹¤ìŒ ë‹¨ê³„

### ì¶”ê°€ ê°€ëŠ¥í•œ ê¸°ëŠ¥

1. **ì¼ì • ìˆ˜ì •/ì‚­ì œ**:
   ```python
   # edit_event.py
   # delete_event.py
   ```

2. **ì›”ê°„ ì¼ì • ì¡°íšŒ**:
   ```python
   # get_month_events.py
   gcalcli agenda "1 month"
   ```

3. **ë¯¸íŒ…ë¡ ìë™ ìƒì„±**:
   ```python
   # Calendar ì´ë²¤íŠ¸ â†’ í”„ë¡œì íŠ¸ ë¯¸íŒ…ë¡ ìë™ ë§í¬
   ```

4. **ì‹œê°„ í†µê³„**:
   ```python
   # ì´ë²ˆ ë‹¬ í”„ë¡œì íŠ¸ë³„ ë¯¸íŒ… ì‹œê°„ ì§‘ê³„
   ```

### ê°œì„  ì•„ì´ë””ì–´

1. **ìº˜ë¦°ë” ì„¤ì • ì™¸ë¶€í™”**:
   ```yaml
   # calendar_config.yaml
   calendars:
     - Work
     - ê°œì¸ + ê°€ì¡±ìš©
     - Money
   ```

2. **ìºì‹±**:
   ```python
   # ë‹¹ì¼ ì¡°íšŒ ê²°ê³¼ ìºì‹± (ì„±ëŠ¥ ê°œì„ )
   ```

3. **ì—ëŸ¬ ì•Œë¦¼**:
   ```python
   # OAuth ë§Œë£Œ ì‹œ ìë™ ì•Œë¦¼
   ```

---

## ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- **Claude Code Skills**: https://docs.claude.com/en/docs/claude-code/skills
- **gcalcli GitHub**: https://github.com/insanum/gcalcli
- **Google Calendar API**: https://developers.google.com/calendar

### ë‚´ë¶€ ë¬¸ì„œ
- **Skills README**: `~/.claude/skills/README.md`
- **CLAUDE.md**: `/Users/rhim/.claude/CLAUDE.md`
- **PKM êµ¬ì¡°**: `/Users/rhim/Projects/pkm/README.md`

---

## ê²°ë¡ 

Google Calendar Skill ìƒì„± í”„ë¡œì íŠ¸ëŠ” **Claude Code Skills ì‹œìŠ¤í…œì˜ ê°•ë ¥í•¨ê³¼ ìœ ì—°ì„±**ì„ ë³´ì—¬ì£¼ëŠ” ì¢‹ì€ ì‚¬ë¡€ì…ë‹ˆë‹¤.

**í•µì‹¬ ì„±ê³µ ìš”ì¸:**
1. âœ… ê¸°ì¡´ ë„êµ¬ í™œìš© (gcalcli)
2. âœ… í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜ (gcalcli + Python ë˜í¼)
3. âœ… ì ì§„ì  ê°œì„  (ë°˜ë³µì  ë¬¸ì œ í•´ê²°)
4. âœ… ì² ì €í•œ ë¬¸ì„œí™”

**ìµœì¢… ê²°ê³¼:**
- ìì—°ì–´ë¡œ "ì˜¤ëŠ˜ ì¼ì • ë­ ìˆì–´?"ë§Œ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ Google Calendar ì¡°íšŒ
- Daily Note, Weekly Reviewì— ì¼ì • ìë™ í†µí•©
- í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ í–¥í›„ ê¸°ëŠ¥ ì¶”ê°€ ìš©ì´

**ì†Œìš” ì‹œê°„:** 2ì‹œê°„
**ê°€ì¹˜:** PKM ì‹œìŠ¤í…œê³¼ Google Calendarì˜ ì™„ë²½í•œ í†µí•© ğŸ‰

---

**ì‘ì„±:** 2025ë…„ 10ì›” 22ì¼
**ì‘ì„±ì:** ì´ë¦¼ (with Claude Code)
**ë²„ì „:** 1.0
